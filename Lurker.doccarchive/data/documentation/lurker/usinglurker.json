{"seeAlsoSections":[{"title":"Getting Started","identifiers":["doc:\/\/Lurker\/documentation\/Lurker\/DesigningMissions","doc:\/\/Lurker\/documentation\/Lurker\/Debugging"],"generated":true}],"schemaVersion":{"major":0,"minor":2,"patch":0},"sections":[],"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Getting started with Background Tasks takes a little setup, but once you’ve completed setup there is very little overhead to manage."}]},{"anchor":"Configuring-Capabilities","level":3,"type":"heading","text":"Configuring Capabilities"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Navigate to your Xcode project’s “Signing & Capabilities” section and add the “Background Modes” capability. Then, enable both "},{"type":"codeVoice","code":"Background fetch"},{"type":"text","text":" and "},{"type":"codeVoice","code":"Background processing"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"tutorial-01"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Select “Info” from the project settings pane. Add a new "},{"type":"codeVoice","code":"Array"},{"type":"text","text":" key to your Info.plist: Permitted background task scheduler identifiers."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Then, add all needed task identifiers to this array. Task identifiers usually begin with your app’s bundle ID and have additional identifying information appended."}]},{"type":"paragraph","inlineContent":[{"type":"image","identifier":"tutorial-02"}]},{"type":"aside","style":"important","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You "},{"type":"strong","inlineContent":[{"type":"text","text":"must"}]},{"type":"text","text":" declare all of your task identifiers here, otherwise the system will not allow you to submit them for scheduling."}]}]},{"anchor":"Integrate-Lurker","level":3,"type":"heading","text":"Integrate Lurker"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Add Lurker to your project and import it into your app’s lifecycle object (the "},{"type":"codeVoice","code":"AppDelegate"},{"type":"text","text":" if using UIKit lifecycles, or your "},{"type":"codeVoice","code":"App"},{"type":"text","text":" struct if using SwiftUI lifecycles). Then, make a call to the shared Lurker object before your app finishes initializing:"}]},{"type":"codeListing","syntax":"swift","code":["@main","struct BackgroundRefreshApp: App {","","    init() {","        do {","            try Lurker.shared.registerMissions([SecretMission()])","            Lurker.shared.scheduleAllMissions()","        } catch let error {","            print(\"Failed to register background tasks: \\(error)\")","        }","    }","","    var body: some Scene {","        WindowGroup {","            ContentView()","        }","    }","","}"]},{"type":"aside","style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"It is important to check for errors thrown from "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Lurker\/documentation\/Lurker\/Lurker\/registerMissions(_:)"},{"type":"text","text":" during "},{"type":"emphasis","inlineContent":[{"type":"text","text":"development"}]},{"type":"text","text":". Errors thrown here should mostly be considered programmer errors which need to be resolved prior to deploying code to production."}]}]},{"anchor":"Designing-Missions","level":3,"type":"heading","text":"Designing Missions"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The most important part of setting up Lurker and your background tasks is designing and developing your Missions. Continue learning about "},{"type":"reference","isActive":true,"identifier":"doc:\/\/Lurker\/documentation\/Lurker\/DesigningMissions"},{"type":"text","text":"."}]}]}],"variants":[{"paths":["\/documentation\/lurker\/usinglurker"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/Lurker\/documentation\/Lurker\/UsingLurker","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Lurker makes it easy to setup, schedule, and manage background tasks in your app. Learn how to get up and running with Lurker once you’ve configured your app for background tasks."}],"kind":"article","metadata":{"modules":[{"name":"Lurker"}],"role":"collectionGroup","title":"Using Lurker"},"hierarchy":{"paths":[["doc:\/\/Lurker\/documentation\/Lurker"]]},"topicSections":[{"title":"Articles","identifiers":["doc:\/\/Lurker\/documentation\/Lurker\/DesigningMissions"]},{"title":"Lurker","identifiers":["doc:\/\/Lurker\/documentation\/Lurker\/Lurker"]},{"title":"Missions","identifiers":["doc:\/\/Lurker\/documentation\/Lurker\/MissionStyle","doc:\/\/Lurker\/documentation\/Lurker\/Mission"]}],"references":{"doc://Lurker/documentation/Lurker/Lurker":{"role":"symbol","title":"Lurker","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Lurker"}],"abstract":[{"type":"codeVoice","code":"Lurker"},{"type":"text","text":" manages all your app’s tasks that need to happen in the background."}],"identifier":"doc:\/\/Lurker\/documentation\/Lurker\/Lurker","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Lurker"}],"url":"\/documentation\/lurker\/lurker"},"doc://Lurker/documentation/Lurker/DesigningMissions":{"role":"collectionGroup","title":"Designing Missions","abstract":[{"type":"text","text":"A "},{"type":"codeVoice","code":"Mission"},{"type":"text","text":" encapsulates a singular background task or piece of work to perform. The "},{"type":"codeVoice","code":"Mission"},{"type":"text","text":" protocol defines a few parameters that your subclass will need to provide and a function where work can be performed."}],"identifier":"doc:\/\/Lurker\/documentation\/Lurker\/DesigningMissions","kind":"article","type":"topic","url":"\/documentation\/lurker\/designingmissions"},"doc://Lurker/documentation/Lurker":{"role":"collection","title":"Lurker","abstract":[{"type":"text","text":"An abstraction over the system’s Background Task API."}],"identifier":"doc:\/\/Lurker\/documentation\/Lurker","kind":"symbol","type":"topic","url":"\/documentation\/lurker"},"doc://Lurker/documentation/Lurker/Mission":{"role":"symbol","title":"Mission","fragments":[{"kind":"keyword","text":"protocol"},{"kind":"text","text":" "},{"kind":"identifier","text":"Mission"}],"abstract":[{"type":"text","text":"A specific, isolated task that can be run in the background."}],"identifier":"doc:\/\/Lurker\/documentation\/Lurker\/Mission","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Mission"}],"url":"\/documentation\/lurker\/mission"},"doc://Lurker/documentation/Lurker/Lurker/registerMissions(_:)":{"role":"symbol","title":"registerMissions(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"registerMissions"},{"kind":"text","text":"(["},{"kind":"typeIdentifier","text":"Mission","preciseIdentifier":"s:6Lurker7MissionP"},{"kind":"text","text":"]) "},{"kind":"keyword","text":"throws"}],"abstract":[{"type":"text","text":"Register multiple tasks with the system "},{"type":"codeVoice","code":"BGTaskScheduler"},{"type":"text","text":"."}],"identifier":"doc:\/\/Lurker\/documentation\/Lurker\/Lurker\/registerMissions(_:)","kind":"symbol","type":"topic","url":"\/documentation\/lurker\/lurker\/registermissions(_:)"},"doc://Lurker/documentation/Lurker/MissionStyle":{"role":"symbol","title":"MissionStyle","fragments":[{"kind":"keyword","text":"enum"},{"kind":"text","text":" "},{"kind":"identifier","text":"MissionStyle"}],"abstract":[{"type":"text","text":"The type of background task to schedule; can be either a brief task or an"},{"type":"text","text":" "},{"type":"text","text":"extended one."}],"identifier":"doc:\/\/Lurker\/documentation\/Lurker\/MissionStyle","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"MissionStyle"}],"url":"\/documentation\/lurker\/missionstyle"},"doc://Lurker/documentation/Lurker/Debugging":{"role":"collectionGroup","title":"Debugging","abstract":[{"type":"text","text":"Unlike the legacy Background Fetch APIs, Background Tasks are not as easy to debug and cannot be tested in the iOS or iPadOS Simulator."}],"identifier":"doc:\/\/Lurker\/documentation\/Lurker\/Debugging","kind":"article","type":"topic","url":"\/documentation\/lurker\/debugging"},"tutorial-01":{"alt":"Xcode project Signing and Capabilities pane.","type":"image","identifier":"tutorial-01","variants":[{"url":"\/images\/tutorial-01.png","traits":["1x","light"]}]},"tutorial-02":{"alt":"Xcode project Info pane.","type":"image","identifier":"tutorial-02","variants":[{"url":"\/images\/tutorial-02.png","traits":["1x","light"]}]}}}